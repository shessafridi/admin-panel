(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{303:function(t,e,n){},304:function(t,e,n){},443:function(t,e,n){"use strict";n.r(e);var a=n(37),r=n(0),c=n.n(r),i=n(12),o=n.n(i),s=(n(303),n(304),n(511)),u=n(510),d=n(83),f=n(58),l=n.n(f),g=n(84),h=n(147),p=n(122),b=Object({NODE_ENV:"production",PUBLIC_URL:"https://shessafridi.github.io/admin-panel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"http://localhost:3100/segments",j=new function t(){var e=this;Object(p.a)(this,t),this.segmentsObj={},this.getSlice=function(t){return e.segmentsObj[t].data},this.getSliceResource=function(t){return e.segmentsObj[t]},this.delete=function(t,n){var a=e.getSliceResource(n),r=a.data.findIndex((function(e){return e.id===t}));return a.data.splice(r,1),e.updateDb(a)},this.getSegmentBody=function(t){return JSON.stringify({SegmentDetailID:t.id,SegmentID:t.id,Title:JSON.stringify(t.data)})},this.updateDb=function(t){return h.a.fetchJson("".concat(b,"/").concat(t.id),{method:"PUT",body:e.getSegmentBody(t)})},this.getSegments=Object(g.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(e.segmentsObj).length){t.next=15;break}return t.prev=1,console.log(b,"DEBUG"),t.next=5,h.a.fetchJson(b);case 5:return t.next=7,t.sent.json;case 7:t.sent.forEach((function(t){var n=t.Title.toLowerCase().replace(" ","");e.segmentsObj[n]={id:t.SegmentDetailID,title:t.Title,data:JSON.parse(t.Details)}})),console.log(e.segmentsObj),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))},O=function(t,e){return j.getSlice(e).find((function(e){return e.id===t}))},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.fetchJson;return{getList:function(){var t=Object(g.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getSegments();case 2:return t.abrupt("return",{total:10,data:j.getSlice(e)});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),getOne:function(t,e){return O(parseInt(e.id.toString()),t)},getMany:function(){var t=Object(g.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getSegments();case 2:return t.abrupt("return",{data:j.getSlice(e)});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),getManyReference:function(){var t=Object(g.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getSegments();case 2:return t.abrupt("return",{total:10,data:j.getSlice(e)});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),update:function(n,a){return e("".concat(t,"/").concat(n,"/").concat(a.id),{method:"PUT",body:JSON.stringify(a.data)}).then((function(t){return{data:t.json}}))},updateMany:function(n,a){return Promise.all(a.ids.map((function(r){return e("".concat(t,"/").concat(n,"/").concat(r),{method:"PUT",body:JSON.stringify(a.data)})}))).then((function(t){return{data:t.map((function(t){return t.json.id}))}}))},create:function(n,a){return e("".concat(t,"/").concat(n),{method:"POST",body:JSON.stringify(a.data)}).then((function(t){var e=t.json;return{data:Object(d.a)(Object(d.a)({},a.data),{},{id:e.id})}}))},delete:function(t,e){return console.log(e),j.delete(parseInt(e.id),t).then((function(t){return{data:t.json}}))},deleteMany:function(n,a){return Promise.all(a.ids.map((function(a){return e("".concat(t,"/").concat(n,"/").concat(a),{method:"DELETE"})}))).then((function(t){return{data:t.map((function(t){return t.json.id}))}}))}}},S=n(512),x=n(513),v=n(518),y=n(508),P=n(515),T=function(t){return Object(a.jsx)(S.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(v.a,{source:"id"}),Object(a.jsx)(v.a,{source:"title"}),Object(a.jsx)(v.a,{source:"text"}),Object(a.jsx)(y.a,{basePath:"id"}),Object(a.jsx)(P.a,{basePath:"id"})]})}))},D=n(262),E=n.n(D);var w=function(){return Object(a.jsx)(s.a,{title:"Admin Panel",dataProvider:m(b),children:Object(a.jsx)(u.a,{icon:E.a,options:{label:"Headers"},name:"header",list:T})})},_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,521)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),_()}},[[443,1,2]]]);
//# sourceMappingURL=main.2d985ce8.chunk.js.map