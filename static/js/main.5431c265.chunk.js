(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{319:function(e,t,n){},320:function(e,t,n){},458:function(e,t,n){"use strict";n.r(t);var r=n(10),a=(n(0),n(14)),i=n.n(a),c=(n(319),n(320),n(531)),s=n(530),o=n(42),u=n(31),d=n.n(u),l=n(59),p=n(102),h=n(73),j=n(77),f="https://api.alhamdian.pk/api/SegmentDetail",b=Object({NODE_ENV:"production",PUBLIC_URL:"https://shessafridi.github.io/admin-panel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.alhamdian.pk/api/SegmentDetail"}).REACT_APP_AUTH_URL||"https://api.alhamdian.pk/api/login",g=new(function(){function e(){var t=this;Object(h.a)(this,e),this.segmentsObj={},this._arrangeId=function(e){return e.data.forEach((function(e,t){return e.id=t+1}))},this._updateDb=function(e){return t._arrangeId(e),p.a.fetchJson("".concat(f,"/").concat(e.id),{method:"PUT",headers:t.getHttpHeaders(),body:t._getSegmentBody(e)})},this._getSegmentBody=function(e){return JSON.stringify({SegmentDetailID:e.id,SegmentID:e.id,Title:e.title,Details:JSON.stringify(e.data)})},this.create=function(e,n){var r=t.getSlice(n);return e.id=r.data.length+1,r.data.push(e),t._updateDb(r)},this.getSliceData=function(e){return t.segmentsObj[e].data},this.getSlice=function(e){return t.segmentsObj[e]},this.update=function(e,n){var r=t.getSlice(n),a=r.data.findIndex((function(t){return t.id===e.id}));return r.data[a]=e,t._updateDb(r)},this.delete=function(e,n){var r=t.getSlice(n),a=r.data.findIndex((function(t){return t.id===e}));return r.data.splice(a,1),t._updateDb(r)},this.getSegments=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(t.segmentsObj).length){e.next=14;break}return e.prev=1,e.next=4,p.a.fetchJson(f);case 4:return e.next=6,e.sent.json;case 6:e.sent.forEach((function(e){var n=e.Title.toLowerCase().replace(" ","");t.segmentsObj[n]={id:e.SegmentDetailID,title:e.Title,data:JSON.parse(e.Details)}})),console.log(t.segmentsObj),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))}return Object(j.a)(e,[{key:"getHttpHeaders",value:function(){var e=localStorage.getItem("auth");return e?new Headers({"Content-Type":"application/json",Authorization:"Bearer "+e}):new Headers({"Content-Type":"application/json"})}}]),e}()),O=function(e,t){return g.getSliceData(t).find((function(t){return t.id===e}))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a.fetchJson;return{getList:function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getSegments();case 2:return e.abrupt("return",{total:10,data:g.getSliceData(t)});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getSegments();case 2:return e.abrupt("return",{data:Object(o.a)({},O(parseInt(n.id.toString()),t))});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMany:function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,"UPDATE"),e.next=3,g.getSegments();case 3:return e.abrupt("return",{data:g.getSliceData(t)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getManyReference:function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getSegments();case 2:return e.abrupt("return",{total:10,data:g.getSliceData(t)});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),update:function(e,t){return console.log(t,"UPDATE"),g.update(t.data,e).then((function(e){var t=e.json;return{data:Object(o.a)({id:t.id},t)}}))},updateMany:function(n,r){return Promise.all(r.ids.map((function(a){return t("".concat(e,"/").concat(n,"/").concat(a),{method:"PUT",body:JSON.stringify(r.data)})}))).then((function(e){return{data:e.map((function(e){return e.json.id}))}}))},create:function(e,t){return console.log(t,"CREATE"),g.create(t.data,e).then((function(e){var t=e.json;return{data:Object(o.a)(Object(o.a)({},t),{},{id:t.id})}}))},delete:function(e,t){return g.delete(parseInt(t.id),e).then((function(e){return{data:e.json}}))},deleteMany:function(e,t){return Promise.all(t.ids.map((function(t){return g.delete(parseInt(t),e)}))).then((function(e){return{data:e.map((function(e){return e.json.id}))}}))}}},x=n(532),v=n(533),S=n(541),y=n(523),w=n(539),T=function(e){var t=e.children,n=e.padding;return Object(r.jsx)("div",{style:{padding:n},children:t})},P=function(e){var t=e,n=t.resource[0].toUpperCase()+t.resource.slice(1);return Object(r.jsxs)(T,{padding:"10px",children:[Object(r.jsxs)("h2",{children:[n," List"]}),Object(r.jsx)(x.a,Object(o.a)(Object(o.a)({pagination:!1},e),{},{children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)(S.a,{source:"id",sortable:!1}),Object(r.jsx)(S.a,{source:"title",sortable:!1}),Object(r.jsx)(S.a,{source:"text",sortable:!1}),Object(r.jsx)(y.a,{}),Object(r.jsx)(w.a,{})]})}))]})},D=n(279),_=n.n(D),k=n(280),I=n(525),E=n(526),A=Object(k.a)({palette:{primary:{main:I.a[500]},secondary:{main:E.a[600]}},overrides:{MuiToolbar:{dense:{minHeight:"55px"}},MuiListItemIcon:{root:{color:I.a[300]}},MuiMenuItem:{root:{"&$selected":{color:I.a[500]},textTransform:"uppercase",fontSize:"14px",fontWeight:"bold",marginTop:"8px",paddingTop:"14px",paddingBottom:"14px"}},MuiAppBar:{colorSecondary:{color:"white",backgroundColor:I.a[500]}}}}),C=n(545),H=n(534),U=n(535),L=n(285),J=n(263),R=n.n(J),B=n(16),M=Object(B.i)((function(e){return Object(r.jsx)(L.a,{color:"primary",onClick:e.history.goBack,children:Object(r.jsx)(R.a,{})})})),N=function(e){return Object(r.jsxs)(T,{padding:"10px",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(M,{}),Object(r.jsx)("h3",{style:{marginLeft:"18px"},children:"Add a new Header"})]}),Object(r.jsx)(C.a,Object(o.a)(Object(o.a)({title:"Add a new header"},e),{},{children:Object(r.jsxs)(H.a,{redirect:"list",children:[Object(r.jsx)(U.a,{required:!0,source:"title"}),Object(r.jsx)(U.a,{required:!0,multiline:!0,source:"text"})]})}))]})},F=n(537),W=function(e){return Object(r.jsxs)(T,{padding:"10px",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(M,{}),Object(r.jsx)("h3",{style:{marginLeft:"18px"},children:"Edit Header"})]}),Object(r.jsx)(F.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(r.jsxs)(H.a,{redirect:"list",children:[Object(r.jsx)(U.a,{disabled:!0,source:"id"}),Object(r.jsx)(U.a,{required:!0,source:"title"}),Object(r.jsx)(U.a,{required:!0,multiline:!0,source:"text"})]})}))]})},q=function(){return Object(r.jsx)(T,{padding:"10px",children:Object(r.jsx)("h1",{children:"Welcome to the dashboard"})})},K=function e(t,n){Object(h.a)(this,e),this.UsernameOrEmail=t,this.Password=n},z=new function e(){var t=this;Object(h.a)(this,e),this.currentUser=null,this.login=function(){var e=Object(l.a)(d.a.mark((function e(n,r){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.fetchJson(b,{method:"POST",body:JSON.stringify(new K(n,r)),headers:new Headers({"Content-Type":"application/json"})});case 2:if(!((a=e.sent).status<200||a.status>=300)&&a.json.Successful){e.next=5;break}throw new Error("".concat(a.status));case 5:return i=a.json.Response,t.currentUser=i,e.abrupt("return",i.access_token);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},V={login:function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,e.abrupt("return",z.login(n,r).then((function(e){localStorage.setItem("auth",e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(e){return localStorage.removeItem("auth"),Promise.resolve()},checkAuth:function(e){return localStorage.getItem("auth")?Promise.resolve():Promise.reject()},checkError:function(e){return Promise.resolve()},getPermissions:function(e){return Promise.resolve()}};var $=function(){return Object(r.jsx)(c.a,{theme:A,title:"Admin Panel",dashboard:q,authProvider:V,dataProvider:m(f),children:Object(r.jsx)(s.a,{icon:_.a,options:{label:"Headers"},name:"header",list:P,create:N,edit:W})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,548)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};i.a.render(Object(r.jsx)($,{}),document.getElementById("root")),G()}},[[458,1,2]]]);
//# sourceMappingURL=main.5431c265.chunk.js.map