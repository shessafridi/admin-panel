(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{318:function(e,t,n){},319:function(e,t,n){},457:function(e,t,n){"use strict";n.r(t);var r=n(10),a=(n(0),n(14)),c=n.n(a),i=(n(318),n(319),n(530)),s=n(529),u=n(41),o=n(56),d=n.n(o),l=n(82),j=n(101),f=n(128),b="https://api.alhamdian.pk/api/SegmentDetail",h=new function e(){var t=this;Object(f.a)(this,e),this.segmentsObj={},this._arrangeId=function(e){return e.data.forEach((function(e,t){return e.id=t+1}))},this._updateDb=function(e){return t._arrangeId(e),j.a.fetchJson("".concat(b,"/").concat(e.id),{method:"PUT",body:t._getSegmentBody(e)})},this._getSegmentBody=function(e){return JSON.stringify({SegmentDetailID:e.id,SegmentID:e.id,Title:e.title,Details:JSON.stringify(e.data)})},this.create=function(e,n){var r=t.getSlice(n);return e.id=r.data.length+1,r.data.push(e),t._updateDb(r)},this.getSliceData=function(e){return t.segmentsObj[e].data},this.getSlice=function(e){return t.segmentsObj[e]},this.update=function(e,n){var r=t.getSlice(n),a=r.data.findIndex((function(t){return t.id===e.id}));return r.data[a]=e,t._updateDb(r)},this.delete=function(e,n){var r=t.getSlice(n),a=r.data.findIndex((function(t){return t.id===e}));return r.data.splice(a,1),t._updateDb(r)},this.getSegments=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(t.segmentsObj).length){e.next=14;break}return e.prev=1,e.next=4,j.a.fetchJson(b);case 4:return e.next=6,e.sent.json;case 6:e.sent.forEach((function(e){var n=e.Title.toLowerCase().replace(" ","");t.segmentsObj[n]={id:e.SegmentDetailID,title:e.Title,data:JSON.parse(e.Details)}})),console.log(t.segmentsObj),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))},p=function(e,t){return h.getSliceData(t).find((function(t){return t.id===e}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.a.fetchJson;return{getList:function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getSegments();case 2:return e.abrupt("return",{total:10,data:h.getSliceData(t)});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getSegments();case 2:return e.abrupt("return",{data:Object(u.a)({},p(parseInt(n.id.toString()),t))});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMany:function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,"UPDATE"),e.next=3,h.getSegments();case 3:return e.abrupt("return",{data:h.getSliceData(t)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getManyReference:function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getSegments();case 2:return e.abrupt("return",{total:10,data:h.getSliceData(t)});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),update:function(e,t){return console.log(t,"UPDATE"),h.update(t.data,e).then((function(e){var t=e.json;return{data:Object(u.a)({id:t.id},t)}}))},updateMany:function(n,r){return Promise.all(r.ids.map((function(a){return t("".concat(e,"/").concat(n,"/").concat(a),{method:"PUT",body:JSON.stringify(r.data)})}))).then((function(e){return{data:e.map((function(e){return e.json.id}))}}))},create:function(e,t){return console.log(t,"CREATE"),h.create(t.data,e).then((function(e){var t=e.json;return{data:Object(u.a)(Object(u.a)({},t),{},{id:t.id})}}))},delete:function(e,t){return h.delete(parseInt(t.id),e).then((function(e){return{data:e.json}}))},deleteMany:function(e,t){return Promise.all(t.ids.map((function(t){return h.delete(parseInt(t),e)}))).then((function(e){return{data:e.map((function(e){return e.json.id}))}}))}}},O=n(531),x=n(532),m=n(540),v=n(522),S=n(538),y=function(e){return Object(r.jsx)(O.a,Object(u.a)(Object(u.a)({pagination:!1},e),{},{children:Object(r.jsxs)(x.a,{children:[Object(r.jsx)(m.a,{source:"id",sortable:!1}),Object(r.jsx)(m.a,{source:"title",sortable:!1}),Object(r.jsx)(m.a,{source:"text",sortable:!1}),Object(r.jsx)(v.a,{}),Object(r.jsx)(S.a,{})]})}))},D=n(278),k=n.n(D),w=n(279),I=n(524),P=n(525),T=Object(w.a)({palette:{primary:{main:I.a[500]},secondary:{main:P.a[600]}},overrides:{MuiAppBar:{colorSecondary:{color:"white",backgroundColor:I.a[500]}}}}),J=n(462),B=n(544),_=n(533),C=n(534),E=n(16),A=Object(E.i)((function(e){return Object(r.jsx)("div",{onClick:e.history.goBack,children:e.children})})),F=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsx)(A,{children:Object(r.jsx)(J.a,{children:"Back"})})}),Object(r.jsx)(B.a,Object(u.a)(Object(u.a)({title:"Add a new header"},e),{},{children:Object(r.jsxs)(_.a,{redirect:"list",children:[Object(r.jsx)(C.a,{required:!0,source:"title"}),Object(r.jsx)(C.a,{required:!0,multiline:!0,source:"text"})]})}))]})},M=n(536),q=function(e){return console.log(e),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsx)(A,{children:Object(r.jsx)(J.a,{children:"Back"})})}),Object(r.jsx)(M.a,Object(u.a)(Object(u.a)({},e),{},{children:Object(r.jsxs)(_.a,{redirect:"list",children:[Object(r.jsx)(C.a,{disabled:!0,source:"id"}),Object(r.jsx)(C.a,{required:!0,source:"title"}),Object(r.jsx)(C.a,{required:!0,multiline:!0,source:"text"})]})}))]})};var L=function(){return Object(r.jsx)(i.a,{theme:T,title:"Admin Panel",dataProvider:g(b),children:Object(r.jsx)(s.a,{icon:k.a,options:{label:"Headers"},name:"header",list:y,create:F,edit:q})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,547)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};c.a.render(Object(r.jsx)(L,{}),document.getElementById("root")),N()}},[[457,1,2]]]);
//# sourceMappingURL=main.26fcf138.chunk.js.map