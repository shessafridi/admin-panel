(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{314:function(t,e,n){},315:function(t,e,n){},453:function(t,e,n){"use strict";n.r(e);var a=n(19),r=(n(0),n(13)),c=n.n(r),i=(n(314),n(315),n(527)),o=n(526),s=n(62),u=n.n(s),d=n(90),l=n(108),f=n(126),g=Object({NODE_ENV:"production",PUBLIC_URL:"https://shessafridi.github.io/admin-panel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"http://localhost:3100/segments",h=new function t(){var e=this;Object(f.a)(this,t),this.segmentsObj={},this._arrangeId=function(t){return t.data.forEach((function(t,e){return t.id=e+1}))},this._updateDb=function(t){return e._arrangeId(t),l.a.fetchJson("".concat(g,"/").concat(t.id),{method:"PUT",body:e.getSegmentBody(t)})},this.getSliceData=function(t){return e.segmentsObj[t].data},this.getSlice=function(t){return e.segmentsObj[t]},this.delete=function(t,n){var a=e.getSlice(n),r=a.data.findIndex((function(e){return e.id===t}));return a.data.splice(r,1),e._updateDb(a)},this.create=function(t,n){var a=e.getSlice(n);return t.id=a.data.length+1,a.data.push(t),e._updateDb(a)},this.getSegmentBody=function(t){return JSON.stringify({SegmentDetailID:t.id,SegmentID:t.id,Title:t.title,Details:JSON.stringify(t.data)})},this.getSegments=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(e.segmentsObj).length){t.next=14;break}return t.prev=1,t.next=4,l.a.fetchJson(g);case 4:return t.next=6,t.sent.json;case 6:t.sent.forEach((function(t){var n=t.Title.toLowerCase().replace(" ","");e.segmentsObj[n]={id:t.SegmentDetailID,title:t.Title,data:JSON.parse(t.Details)}})),console.log(e.segmentsObj),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))},j=function(t,e){return h.getSliceData(e).find((function(e){return e.id===t}))},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a.fetchJson;return{getList:function(){var t=Object(d.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n,"UPDATE"),t.next=3,h.getSegments();case 3:return t.abrupt("return",{total:10,data:h.getSliceData(e)});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),getOne:function(t,e){return j(parseInt(e.id.toString()),t)},getMany:function(){var t=Object(d.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n,"UPDATE"),t.next=3,h.getSegments();case 3:return t.abrupt("return",{data:h.getSliceData(e)});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),getManyReference:function(){var t=Object(d.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.getSegments();case 2:return t.abrupt("return",{total:10,data:h.getSliceData(e)});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),update:function(n,a){return e("".concat(t,"/").concat(n,"/").concat(a.id),{method:"PUT",body:JSON.stringify(a.data)}).then((function(t){return{data:t.json}}))},updateMany:function(n,a){return Promise.all(a.ids.map((function(r){return e("".concat(t,"/").concat(n,"/").concat(r),{method:"PUT",body:JSON.stringify(a.data)})}))).then((function(t){return{data:t.map((function(t){return t.json.id}))}}))},create:function(t,e){return console.log(e,"CREATE"),h.create(e.data,t).then((function(t){return{data:t.json}}))},delete:function(t,e){return console.log(e),h.delete(parseInt(e.id),t).then((function(t){return{data:t.json}}))},deleteMany:function(n,a){return Promise.all(a.ids.map((function(a){return e("".concat(t,"/").concat(n,"/").concat(a),{method:"DELETE"})}))).then((function(t){return{data:t.map((function(t){return t.json.id}))}}))}}},p=n(91),O=n(528),m=n(529),S=n(536),x=n(519),v=n(534),D=function(t){return Object(a.jsx)(O.a,Object(p.a)(Object(p.a)({pagination:!1},t),{},{children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(S.a,{source:"id",sortable:!1}),Object(a.jsx)(S.a,{source:"title",sortable:!1}),Object(a.jsx)(S.a,{source:"text",sortable:!1}),Object(a.jsx)(x.a,{basePath:"id"}),Object(a.jsx)(v.a,{basePath:"id"})]})}))},y=n(271),T=n.n(y),P=n(272),E=n(521),_=n(522),w=Object(P.a)({palette:{primary:{main:E.a[500]},secondary:{main:_.a[600]}},overrides:{MuiAppBar:{colorSecondary:{color:"white",backgroundColor:E.a[500]}}}}),I=n(458),k=n(537),A=n(530),C=n(531),J=function(t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(I.a,{style:{marginLeft:"16px"},children:"Back"})}),Object(a.jsx)(k.a,Object(p.a)(Object(p.a)({title:"Add a new header"},t),{},{children:Object(a.jsxs)(A.a,{children:[Object(a.jsx)(C.a,{required:!0,source:"title"}),Object(a.jsx)(C.a,{required:!0,multiline:!0,source:"text"})]})}))]})};var L=function(){return Object(a.jsx)(i.a,{theme:w,title:"Admin Panel",dataProvider:b(g),children:Object(a.jsx)(o.a,{icon:T.a,options:{label:"Headers"},name:"header",list:D,create:J})})},R=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,543)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};c.a.render(Object(a.jsx)(L,{}),document.getElementById("root")),R()}},[[453,1,2]]]);
//# sourceMappingURL=main.852a9790.chunk.js.map